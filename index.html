<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Merry Christmas!</title>
  <style>
    /****************************************/
    /*  GLOBAL RESETS & SETTINGS            */
    /****************************************/
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;    /* Hide scrollbars entirely */
      touch-action: none;  /* Disable default scroll on mobile swipes */
      font-family: 'Roboto', sans-serif;
    }

    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    body {
      /* Larger, more pronounced corner gradients */
      background:
        radial-gradient(circle at top left, rgba(30,30,30,1), rgba(40,40,60,0.8)),
        radial-gradient(circle at bottom right, rgba(50, 25, 100, 0.8), rgba(30,30,30,1));
      background-size: cover;
      background-color: #1e1e1e;
      color: #ffffff;
      position: relative;
    }

    /****************************************/
    /*  SLIDER (HORIZONTAL SWIPE)           */
    /****************************************/
    .slider {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease;
    }

    .slide {
      min-width: 100%;
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 2rem;
      padding: 0 15px;
    }

    @media (max-width: 600px) {
      .slide {
        font-size: 1.4rem;
      }
    }

    .slide1, .slide2, .slide3, .slide4, .slide5 {
      background: transparent; /* Let body gradient show through */
    }

    /****************************************/
    /*  SNOWFLAKES (BACKGROUND DECOR)       */
    /****************************************/
    .snowflake {
      position: absolute;
      top: -10px;
      color: #ffffff;
      font-size: 1em;
      opacity: 0.8;
      user-select: none;
      pointer-events: none;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    /****************************************/
    /*  BILLS + CONFETTI AREA               */
    /****************************************/
    .bills-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 0;
      height: 0;
      transition: width 0.8s ease, height 0.8s ease, opacity 0.5s;
      opacity: 0;
      z-index: 999;
    }
    .bills-container.show {
      width: 500px;   /* Enough space for fan-out */
      height: 300px;  /* Enough space for fan-out */
      opacity: 1;
    }

    .bill {
      position: absolute;
      width: 180px;
      height: 90px;
      background:
        /* Subtle stripes pattern */
        repeating-linear-gradient(
          135deg,
          rgba(255,255,255,0.05) 0px,
          rgba(255,255,255,0.05) 8px,
          transparent 8px,
          transparent 16px
        ),
        linear-gradient(45deg, #4caf50, #107f63);
      border-radius: 12px;
      box-shadow: 0 6px 10px rgba(0,0,0,0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: bold;
      /* Start as invisible stack (scale=0) */
      transform: scale(0) rotate(0deg);
      transition: transform 0.5s ease;
      overflow: hidden;
      cursor: pointer; /* Indicate interactivity */
    }

    /* $100 in corners */
    .bill::before {
      content: "$100";
      position: absolute;
      top: 6px;
      left: 8px;
      font-size: 0.7rem;
      opacity: 0.7;
    }
    .bill::after {
      content: "$100";
      position: absolute;
      bottom: 5px;
      right: 8px;
      font-size: 0.7rem;
      opacity: 0.7;
      transform: rotate(180deg);
    }

    /* Center emoji on the face */
    .bill-emoji {
      position: absolute;
      font-size: 1.5rem;
      /* Center the emoji in the bill */
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none; /* so clicks go to the bill itself */
    }

    /* Bounce animation for interactivity */
    @keyframes bounce {
      0%   { transform: scale(1);   }
      20%  { transform: scale(1.2); }
      50%  { transform: scale(0.95);}
      80%  { transform: scale(1.1); }
      100% { transform: scale(1);   }
    }
    .bounce {
      animation: bounce 0.6s ease;
    }

    /* CONFETTI */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: hsl(var(--hue), 80%, 50%);
      top: 50%;
      left: 50%;
      opacity: 0;
      animation: confetti-fall 1.8s ease forwards;
      will-change: transform;
    }
    @keyframes confetti-fall {
      0% {
        transform: translate(-50%, -50%) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--x), var(--y)) rotate(720deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- SNOWFLAKES WILL BE GENERATED VIA JS -->

  <!-- Slider for horizontal swiping -->
  <div class="slider" id="slider">
    <!-- Slide 1 -->
    <div class="slide slide1">
      <div>
        <p>üéÑ Merry Christmas! üéÖ</p>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="slide slide2">
      <div>
        <p>Wishing you a season <br> filled with joy and warmth! ‚ù§Ô∏è</p>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="slide slide3">
      <div>
        <p>May your holidays sparkle <br> with love and laughter. ‚ú®</p>
      </div>
    </div>

    <!-- Slide 4 -->
    <div class="slide slide4">
      <div>
        <p>And now... <br> a special surprise awaits you! üéÅ</p>
      </div>
    </div>

    <!-- Slide 5 (final reveal - no text) -->
    <div class="slide slide5">
      <!-- Intentionally blank to emphasize the bills + confetti. -->
    </div>
  </div>

  <!-- BILLS CONTAINER (3-stage reveal) -->
  <div class="bills-container" id="billsContainer">
    <div class="bill" id="bill1">
      <span class="bill-emoji">&#x1F60E;</span> <!-- üòé -->
    </div>
    <div class="bill" id="bill2">
      <span class="bill-emoji">&#x1F60E;</span>
    </div>
    <div class="bill" id="bill3">
      <span class="bill-emoji">&#x1F60E;</span>
    </div>
    <div class="bill" id="bill4">
      <span class="bill-emoji">&#x1F60E;</span>
    </div>
    <div class="bill" id="bill5">
      <span class="bill-emoji">&#x1F60E;</span>
    </div>
  </div>

  <script>
    /****************************************/
    /*  GLOBAL VARIABLES & SLIDE SETUP      */
    /****************************************/
    const slider = document.getElementById('slider');
    const totalSlides = 5; // We have 5 slides
    let currentIndex = 0;  // Start on slide 0
    let isAnimating = false;

    // Touch / Mouse variables
    let touchStartX = 0;
    let touchEndX = 0;
    let mouseDown = false;
    let mouseStartX = 0;
    let mouseEndX = 0;

    // Bills
    const billsContainer = document.getElementById('billsContainer');
    const bills = document.querySelectorAll('.bill');

    /****************************************/
    /*  SLIDER LOGIC (SWIPE LEFT/RIGHT)     */
    /****************************************/
    function goToSlide(index) {
      if (index < 0 || index >= totalSlides) return;
      slider.style.transform = `translateX(-${index * 100}%)`;
      currentIndex = index;

      // If final slide => 3-stage reveal
      if (currentIndex === totalSlides - 1) {
        showBillsAndConfetti();
      } else {
        hideBills();
      }
    }

    function nextSlide() {
      if (isAnimating) return;
      isAnimating = true;
      goToSlide(currentIndex + 1);
      setTimeout(() => (isAnimating = false), 600);
    }
    function prevSlide() {
      if (isAnimating) return;
      isAnimating = true;
      goToSlide(currentIndex - 1);
      setTimeout(() => (isAnimating = false), 600);
    }

    /****************************************/
    /*  TOUCH & MOUSE SWIPE HANDLERS        */
    /****************************************/
    function handleSwipeGesture() {
      // Swiping left => next
      if (touchEndX < touchStartX - 50) {
        nextSlide();
      }
      // Swiping right => prev
      if (touchEndX > touchStartX + 50) {
        prevSlide();
      }
    }

    // Touch
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });
    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipeGesture();
    });

    // Mouse
    document.addEventListener('mousedown', (e) => {
      mouseDown = true;
      mouseStartX = e.screenX;
    });
    document.addEventListener('mouseup', (e) => {
      if (!mouseDown) return;
      mouseDown = false;
      mouseEndX = e.screenX;
      if (mouseEndX < mouseStartX - 50) {
        nextSlide();
      } else if (mouseEndX > mouseStartX + 50) {
        prevSlide();
      }
    });

    /****************************************/
    /*  BILLS: 3-STAGE REVEAL + INTERACTION */
    /****************************************/
    function showBillsAndConfetti() {
      billsContainer.classList.add('show');

      // Stage 1: Appear as a single stack
      setTimeout(() => {
        bills.forEach((bill) => {
          bill.style.transform = `scale(1) rotate(0deg)`;
        });
      }, 200);

      // Stage 2: Slight horizontal spread
      setTimeout(() => {
        bills.forEach((bill, i) => {
          const offset = (i - 2) * 5; // e.g. -10, -5, 0, 5, 10
          bill.style.transform = `scale(1) translateX(${offset}%) rotate(0deg)`;
        });
      }, 800);

      // Stage 3: Fan out (angles)
      setTimeout(() => {
        bills.forEach((bill, i) => {
          const offset = (i - 2) * 12; // more spread
          const angle = (i - 2) * 10;  // -20, -10, 0, 10, 20
          bill.style.transform = `scale(1) translateX(${offset}%) rotate(${angle}deg)`;
        });
      }, 1400);

      // Confetti
      confettiBurst();
    }

    function hideBills() {
      billsContainer.classList.remove('show');
      bills.forEach((bill) => {
        bill.style.transform = `scale(0) rotate(0deg) translateX(0)`;
      });
    }

    // Interactivity: click/tap to bounce
    bills.forEach((bill) => {
      bill.addEventListener('click', () => {
        bill.classList.remove('bounce'); // reset if already bouncing
        void bill.offsetWidth;          // trigger reflow to restart animation
        bill.classList.add('bounce');
      });
    });

    /****************************************/
    /*  CONFETTI BURST                      */
    /****************************************/
    function confettiBurst() {
      const confettiCount = 60; // number of confetti pieces
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');

        // random hue
        const hue = Math.floor(Math.random() * 360);
        confetti.style.setProperty('--hue', hue);

        // random x,y offsets
        const x = (Math.random() - 0.5) * 800; // -400..+400
        const y = (Math.random() - 0.5) * 800; // -400..+400
        confetti.style.setProperty('--x', `${x}px`);
        confetti.style.setProperty('--y', `${y}px`);

        // random size
        const size = Math.random() * 0.8 + 0.3;
        confetti.style.transform = `translate(-50%, -50%) scale(${size})`;

        document.body.appendChild(confetti);

        // remove from DOM after animation
        confetti.addEventListener('animationend', () => {
          confetti.remove();
        });
      }
    }

    /****************************************/
    /*  SNOWFLAKE GENERATION                */
    /****************************************/
    function createSnowflakes() {
      const snowflakeCount = 40;
      for (let i = 0; i < snowflakeCount; i++) {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.innerHTML = '‚ùÑÔ∏è';

        // random position & size
        snowflake.style.left = Math.random() * 100 + 'vw';
        snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';

        // random anim duration & delay
        const duration = Math.random() * 5 + 5;
        snowflake.style.animationDuration = `${duration}s`;
        snowflake.style.animationDelay = `-${Math.random() * duration}s`;

        // random horizontal shift
        const horizontalMove = Math.random() * 100 - 50;
        snowflake.style.transform = `translateX(${horizontalMove}px)`;

        document.body.appendChild(snowflake);
      }
    }

    /****************************************/
    /*  INIT ON LOAD                        */
    /****************************************/
    window.onload = () => {
      createSnowflakes();
      goToSlide(0); // Start at first slide
    };
  </script>
</body>
</html>
