<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Merry Christmas!</title>
  <style>
    /* 
      ---------------
      GLOBAL RESETS
      ---------------
    */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;       /* Hide scrollbars */
      touch-action: none;     /* Prevent the page from moving on mobile swipes */
      font-family: 'Roboto', sans-serif;
    }

    /* Import a modern font */
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    /* 
      ------------------
      BACKGROUND & LAYOUT
      ------------------
    */
    body {
      /* Larger, more pronounced corner gradients */
      background: 
        radial-gradient(circle at top left, rgba(30,30,30,1), rgba(40,40,60,0.8)), 
        radial-gradient(circle at bottom right, rgba(50, 25, 100, 0.8), rgba(30,30,30,1));
      background-size: cover;
      background-color: #1e1e1e;
      color: #ffffff;
      position: relative;
    }

    .slider {
      /* The horizontal slider container */
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease; /* smooth slide transition */
    }

    /* 
      ---------------
      SLIDES
      ---------------
    */
    .slide {
      min-width: 100%;
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.0rem;
      text-align: center;
      box-sizing: border-box;
      padding: 0 15px;
    }

    /* For slight resizing on smaller devices */
    @media (max-width: 600px) {
      .slide {
        font-size: 1.3rem;
      }
    }

    /* Example slides (just different text) */
    .slide1, .slide2, .slide3, .slide4, .slide5 {
      /* 
        You can define your own background or just rely on the body gradient.
        I'll leave these as transparent so we see the main background.
      */
      background: transparent;
    }

    /* 
      -----------------------
      SNOWFLAKES (Background)
      -----------------------
    */
    .snowflake {
      position: absolute;
      top: -10px;
      color: #ffffff;
      font-size: 1em;
      opacity: 0.8;
      user-select: none;
      pointer-events: none;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    /* 
      -----------------------
      BILLS + CONFETTI
      -----------------------
    */
    .bills-container {
      position: absolute;
      /* Place them near the center so we can fan them out easily */
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      justify-content: center;
      align-items: center;
      width: 0;
      height: 0;
      transition: width 0.8s ease, height 0.8s ease, opacity 0.5s;
      opacity: 0;
      z-index: 999;
    }
    .bills-container.show {
      /* Expand the container so there's room for the bills to fan out */
      width: 450px;
      height: 300px;
      opacity: 1;
    }

    .bill {
      position: absolute;
      width: 200px;
      height: 100px;
      background:
        /* Subtle stripes: Repeating linear gradient */
        repeating-linear-gradient(
          135deg, 
          rgba(255,255,255,0.05) 0px,
          rgba(255,255,255,0.05) 8px,
          transparent 8px,
          transparent 16px
        ),
        linear-gradient(45deg, #4caf50, #107f63);
      border-radius: 12px;
      box-shadow: 0 6px 10px rgba(0,0,0,0.4);
      transform: scale(0) rotate(0deg);
      transition: transform 0.7s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: bold;
      overflow: hidden;
    }

    .bill::before {
      content: "$100";
      position: absolute;
      top: 8px;
      left: 8px;
      font-size: 0.8rem;
      opacity: 0.7;
    }
    .bill::after {
      content: "$100";
      position: absolute;
      bottom: 5px;
      right: 8px;
      font-size: 0.8rem;
      opacity: 0.7;
      transform: rotate(180deg);
    }

    /* We'll position them in a stack, then fan out with JS. */
    /* Confetti */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: hsl(var(--hue), 80%, 50%);
      top: 50%;
      left: 50%;
      opacity: 0;
      animation: confetti-fall 1.8s ease forwards;
      will-change: transform;
    }
    @keyframes confetti-fall {
      0% {
        transform: translate(-50%, -50%) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--x), var(--y)) rotate(720deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Snowflakes will be generated by JavaScript -->

  <div class="slider" id="slider">
    <!-- Slide 1 -->
    <div class="slide slide1">
      <div>
        <p>üéÑ Merry Christmas! üéÖ</p>
      </div>
    </div>
    <!-- Slide 2 -->
    <div class="slide slide2">
      <div>
        <p>Wishing you a season <br> filled with joy and warmth! ‚ù§Ô∏è</p>
      </div>
    </div>
    <!-- Slide 3 -->
    <div class="slide slide3">
      <div>
        <p>May your holidays sparkle <br> with moments of love and laughter. ‚ú®</p>
      </div>
    </div>
    <!-- Slide 4 -->
    <div class="slide slide4">
      <div>
        <p>And now... <br> a special surprise awaits you! üéÅ</p>
      </div>
    </div>
    <!-- Slide 5 (final reveal - no text) -->
    <div class="slide slide5">
      <!-- Intentionally left blank, because we'll show the bills + confetti -->
    </div>
  </div>

  <!-- BILLS CONTAINER -->
  <div class="bills-container" id="billsContainer">
    <div class="bill" id="bill1">100</div>
    <div class="bill" id="bill2">100</div>
    <div class="bill" id="bill3">100</div>
    <div class="bill" id="bill4">100</div>
    <div class="bill" id="bill5">100</div>
  </div>

  <script>
    /*
      ========================================
      GLOBAL VARIABLES & SETUP
      ========================================
    */
    const slider = document.getElementById('slider');
    const totalSlides = 5;  // We have 5 slides
    let currentIndex = 0;   // Start on slide 0
    let isAnimating = false;

    // Touch / Mouse variables
    let touchStartX = 0;
    let touchEndX = 0;
    let mouseDown = false;
    let mouseStartX = 0;
    let mouseEndX = 0;

    // Bills & Container
    const billsContainer = document.getElementById('billsContainer');
    const bills = document.querySelectorAll('.bill');

    /*
      ========================================
      SLIDER LOGIC (HORIZONTAL SLIDE)
      ========================================
    */
    function goToSlide(index) {
      if (index < 0 || index >= totalSlides) return;
      // Move the .slider container
      slider.style.transform = `translateX(-${index * 100}%)`;
      currentIndex = index;

      // Check if final slide => show bills & confetti
      if (currentIndex === totalSlides - 1) {
        showBillsAndConfetti();
      } else {
        hideBills();
      }
    }

    // Next & Prev
    function nextSlide() {
      if (isAnimating) return;
      isAnimating = true;
      goToSlide(currentIndex + 1);
      setTimeout(() => (isAnimating = false), 600);
    }
    function prevSlide() {
      if (isAnimating) return;
      isAnimating = true;
      goToSlide(currentIndex - 1);
      setTimeout(() => (isAnimating = false), 600);
    }

    /*
      ========================================
      TOUCH & MOUSE SWIPE HANDLERS
      ========================================
    */
    function handleSwipeGesture() {
      // If we swipe left => next
      if (touchEndX < touchStartX - 50) {
        nextSlide();
      }
      // If we swipe right => prev
      if (touchEndX > touchStartX + 50) {
        prevSlide();
      }
    }

    // Touch Events
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });
    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipeGesture();
    });

    // Mouse (Desktop) Events
    document.addEventListener('mousedown', (e) => {
      mouseDown = true;
      mouseStartX = e.screenX;
    });
    document.addEventListener('mouseup', (e) => {
      if (!mouseDown) return;
      mouseDown = false;
      mouseEndX = e.screenX;
      if (mouseEndX < mouseStartX - 50) {
        nextSlide();
      } else if (mouseEndX > mouseStartX + 50) {
        prevSlide();
      }
    });

    /*
      ========================================
      BILLS + CONFETTI
      ========================================
    */
    function showBillsAndConfetti() {
      // Show container (expands & becomes visible)
      billsContainer.classList.add('show');

      // Wait a bit, then fan out the bills
      setTimeout(() => {
        bills.forEach((bill, i) => {
          // Fan them out in a circular arrangement around center
          const angle = -20 + (i * 10); // angles from -20 to +20
          // They scale up from 0 to 1
          bill.style.transform = `scale(1) rotate(${angle}deg)`;
        });
      }, 400);

      // Also do confetti
      confettiBurst();
    }

    function hideBills() {
      billsContainer.classList.remove('show');
      bills.forEach((bill) => {
        // reset transform so they stack in center
        bill.style.transform = `scale(0) rotate(0deg)`;
      });
    }

    function confettiBurst() {
      const confettiCount = 60; // number of confetti pieces
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');

        // random hue
        const hue = Math.floor(Math.random() * 360);
        confetti.style.setProperty('--hue', hue);

        // random x,y offsets
        const x = (Math.random() - 0.5) * 800; // -400 to +400
        const y = (Math.random() - 0.5) * 800; // -400 to +400
        confetti.style.setProperty('--x', `${x}px`);
        confetti.style.setProperty('--y', `${y}px`);

        // random size
        const size = Math.random() * 0.8 + 0.3; 
        confetti.style.transform = `translate(-50%, -50%) scale(${size})`;

        document.body.appendChild(confetti);

        // remove from DOM after animation
        confetti.addEventListener('animationend', () => {
          confetti.remove();
        });
      }
    }

    /*
      ========================================
      SNOWFLAKE GENERATION (BACKGROUND)
      ========================================
    */
    function createSnowflakes() {
      const snowflakeCount = 40; // Adjust if you like
      for (let i = 0; i < snowflakeCount; i++) {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.innerHTML = '‚ùÑÔ∏è';

        // Randomize position & size
        snowflake.style.left = Math.random() * 100 + 'vw';
        snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';

        // Random animation duration & delay
        const duration = Math.random() * 5 + 5;
        snowflake.style.animationDuration = `${duration}s`;
        snowflake.style.animationDelay = `-${Math.random() * duration}s`;

        // Slight horizontal shift
        const horizontalMove = Math.random() * 100 - 50;
        snowflake.style.transform = `translateX(${horizontalMove}px)`;

        document.body.appendChild(snowflake);
      }
    }

    /*
      ========================================
      INIT ON LOAD
      ========================================
    */
    window.onload = () => {
      createSnowflakes();
      goToSlide(0); // Start at first slide
    };
  </script>
</body>
</html>
